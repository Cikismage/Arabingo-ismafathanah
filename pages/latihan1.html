<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan Bahasa Arab</title>
    <link rel="stylesheet" href="../style/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>‚úèÔ∏è Latihan Soal Kosakata</h1>
        <h2>Jawablah soal dengan menggunakan harakat lengkap</h2>
        <div id="skor">Skor: 0</div>
    </header>

    <main class="container">
        <form id="latihanForm" class="soal-container">
            <!-- Soal akan di-generate oleh JavaScript -->
        </form>
    </main>

    <footer>
        <p>Isma Fathanah - 2102455 ¬© Copyright 2025</p>
    </footer>

    <script>
        const semuaSoalData = [
            { soal: 'Bahasa Arabnya "Buku"', jawaban: "ŸÉŸêÿ™Ÿéÿßÿ®" },
            { soal: 'Bahasa Arabnya "Belajar" adalah', jawaban: "ÿØŸéÿ±Ÿéÿ≥Ÿé" },
            { soal: 'Bahasa Arabnya "Menulis" adalah', jawaban: "ŸÉŸéÿ™Ÿéÿ®ŸéŸé" },
            { soal: 'Bahasa Arabnya "Membaca" adalah', jawaban: "ŸÇŸéÿ±Ÿéÿ£Ÿé" },
            { soal: 'Bahasa Arabnya "Bertanya" adalah', jawaban: "ÿ≥Ÿéÿ£ŸéŸÑŸéŸé" },
            { soal: 'Bahasa Arabnya "Menjawab" adalah', jawaban: "ÿ£Ÿéÿ¨Ÿéÿßÿ®ŸéŸé" },
            { soal: 'Bahasa Arabnya "Mengangkat Tangan" adalah', jawaban: "ÿ±ŸéŸÅŸéÿπŸé ŸäŸéÿØŸéŸáŸè" },
            { soal: 'Bahasa Arabnya "Pergi"', jawaban: "ÿ∞ŸéŸáŸéÿ®Ÿé" },
            { soal: 'Bahasa Arabnya "Masuk"', jawaban: "ÿØŸéÿÆŸéŸÑŸé" },
            { soal: 'Bahasa Arabnya "Keluar"', jawaban: "ÿÆŸéÿ±Ÿéÿ¨Ÿé" },
            { soal: 'Bahasa Arabnya "Duduk"', jawaban: "ÿ¨ŸéŸÑŸéÿ≥Ÿé" },
            { soal: 'Bahasa Arabnya "Mendengar"', jawaban: "ÿ≥ŸéŸÖŸêÿπŸéŸé" },
            { soal: 'Bahasa Arabnya "Bermain"', jawaban: "ŸÑŸéÿπŸêÿ®Ÿé" },
            { soal: 'Bahasa Arabnya "Menyusun Kalimat"', jawaban: "ŸÉŸéŸàŸëŸéŸÜŸé ÿ¨ŸèŸÖŸíŸÑŸéÿ©Ÿã" },
            { soal: 'Bahasa Arabnya "Menggambar"', jawaban: "ÿ±Ÿéÿ≥ŸéŸÖŸéŸé" },
            { soal: 'Bahasa Arabnya "Melihat"', jawaban: "ŸÜŸéÿ∏Ÿéÿ±Ÿé" },
            { soal: 'Bahasa Arabnya "Menyalin"', jawaban: "ŸÜŸéŸÇŸéŸÑŸé" },
            { soal: 'Bahasa Arabnya "Menghafal"', jawaban: "ÿ≠ŸéŸÅŸêÿ∏Ÿé" },
            { soal: 'Bahasa Arabnya "Mencuci tangan"', jawaban: "ÿ∫Ÿéÿ≥ŸéŸÑŸé ŸäŸéÿØŸéŸáŸè" },
            { soal: 'Bahasa Arabnya "Makan"', jawaban: "ÿ£ŸéŸÉŸéŸÑŸé" },
            { soal: 'Bahasa Arabnya "Minum"', jawaban: "ÿ¥Ÿéÿ±Ÿêÿ®Ÿé" },
            { soal: 'Bahasa Arabnya "Buku Tulis"', jawaban: "ÿØŸéŸÅŸíÿ™Ÿéÿ±Ÿå" },
            { soal: 'Bahasa Arabnya "Cerita"', jawaban: "ŸÇŸêÿµŸëŸéÿ©Ÿå" },
            { soal: 'Bahasa Arabnya "Guru"', jawaban: "ÿ£Ÿèÿ≥Ÿíÿ™Ÿéÿßÿ∞Ÿå" },
            { soal: 'Bahasa Arabnya "Pertanyaan"', jawaban: "ÿ≥Ÿèÿ§ŸéÿßŸÑŸå" },
            { soal: 'Bahasa Arabnya "Tangan"', jawaban: "ŸäŸéÿØŸå" },
            { soal: 'Bahasa Arabnya "Sekolah"', jawaban: "ŸÖŸéÿØŸíÿ±Ÿéÿ≥Ÿéÿ©Ÿå" },
            { soal: 'Bahasa Arabnya "Kelas"', jawaban: "ŸÅŸéÿµŸíŸÑŸåŸå" },
            { soal: 'Bahasa Arabnya "Pintu"', jawaban: "ÿ®Ÿéÿßÿ®Ÿå" },
            { soal: 'Bahasa Arabnya "Kursi"', jawaban: "ŸÉŸèÿ±Ÿíÿ≥ŸêŸäŸëŸåŸå" },
            { soal: 'Bahasa Arabnya "Suara"', jawaban: "ÿµŸéŸàŸíÿ™Ÿå" },
            { soal: 'Bahasa Arabnya "Kalimat"', jawaban: "ÿ¨ŸèŸÖŸíŸÑŸéÿ©Ÿå" },
            { soal: 'Bahasa Arabnya "Lapangan"', jawaban: "ŸÖŸéŸÑŸíÿπŸéÿ®Ÿå" },
            { soal: 'Bahasa Arabnya "Gambar"', jawaban: "ÿµŸèŸàÿ±Ÿéÿ©Ÿå" },
            { soal: 'Bahasa Arabnya "Papan Tulis"', jawaban: "ÿ≥Ÿéÿ®ŸëŸèŸàÿ±Ÿéÿ©Ÿå" },
            { soal: 'Bahasa Arabnya "Kata"', jawaban: "ŸÉŸéŸÑŸêŸÖŸéÿ©Ÿå" },
            { soal: 'Bahasa Arabnya "Ayat (Al-Quran)"', jawaban: "ÿ¢ŸäŸéÿ©Ÿå" },
            { soal: 'Bahasa Arabnya "Air"', jawaban: "ŸÖŸéÿßÿ°Ÿå" },
            { soal: 'Bahasa Arabnya "Makanan"', jawaban: "ÿ∑ŸéÿπŸéÿßŸÖŸå" },
            { soal: 'Terjemahkan ke dalam bahasa Arab: "Murid itu berada di dalam kelas"', jawaban: "ÿßŸÑÿ∑ŸëŸéÿßŸÑŸêÿ®Ÿè ŸÅŸêŸä ÿßŸÑŸíŸÅŸéÿµŸíŸÑŸê" },
            { soal: 'Terjemahkan ke dalam bahasa Arab: "Guru itu ada di sekolah"', jawaban: "ÿßŸÑŸíŸÖŸèÿπŸéŸÑŸëŸêŸÖŸè ŸÅŸêŸä ÿßŸÑŸíŸÖŸéÿØŸíÿ±Ÿéÿ≥Ÿéÿ©Ÿê" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ÿßŸÑŸíŸÉŸêÿ™Ÿéÿßÿ®Ÿè ÿπŸéŸÑŸéŸâ ÿßŸÑŸíŸÖŸéŸÉŸíÿ™Ÿéÿ®Ÿê"', jawaban: "Buku itu ada di atas meja" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ÿßŸÑŸíÿ®Ÿéÿßÿ®Ÿè ŸÖŸéŸÅŸíÿ™ŸèŸàÿ≠Ÿå"', jawaban: "Pintu itu terbuka" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ÿßŸÑÿµŸëŸèŸàÿ±Ÿéÿ©Ÿè ÿ¨ŸéŸÖŸêŸäŸÑŸéÿ©Ÿå"', jawaban: "Gambar itu indah" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ÿ∞ŸéŸáŸéÿ®Ÿé ÿßŸÑÿ∑ŸëŸéÿßŸÑŸêÿ®Ÿè ÿ•ŸêŸÑŸéŸâ ÿßŸÑŸíŸÖŸéÿØŸíÿ±Ÿéÿ≥Ÿéÿ©Ÿê"', jawaban: "Murid itu pergi ke sekolah" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ŸÇŸéÿ±Ÿéÿ£Ÿé ÿßŸÑÿ∑ŸëŸêŸÅŸíŸÑŸè ÿßŸÑŸíŸÉŸêÿ™Ÿéÿßÿ®Ÿé"', jawaban: "Anak itu membaca buku" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ŸÉŸéÿ™Ÿéÿ®Ÿé ÿßŸÑŸíŸàŸéŸÑŸéÿØŸè ŸÅŸêŸä ÿßŸÑÿØŸëŸéŸÅŸíÿ™Ÿéÿ±Ÿê"', jawaban: "Anak laki-laki itu menulis di buku tulis" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ÿ¨ŸéŸÑŸéÿ≥Ÿé ÿßŸÑÿ£Ÿèÿ≥Ÿíÿ™Ÿéÿßÿ∞Ÿå ÿπŸéŸÑŸéŸâ ÿßŸÑŸíŸÉŸèÿ±Ÿíÿ≥ŸêŸäŸëŸê"', jawaban: "Guru itu duduk di kursi" },
            { soal: 'Terjemahkan ke dalam bahasa Indonesia: "ÿ±Ÿéÿ≥ŸéŸÖŸéÿ™Ÿê ÿßŸÑŸíÿ®ŸêŸÜŸíÿ™Ÿè ÿµŸèŸàÿ±Ÿéÿ©Ÿã"', jawaban: "Anak perempuan itu menggambar gambar" },
    ]
        // Acak soal dan pilih 10
        const soalAcak = shuffleArray([...semuaSoalData]).slice(0, 10);
        let soalAktif = 0;
        let skor = 0;

        // Generate soal
        const form = document.getElementById('latihanForm');
        soalAcak.forEach((soal, index) => {
            const divSoal = document.createElement('div');
            divSoal.className = `soal ${index === 0 ? 'aktif' : ''}`;
            divSoal.innerHTML = `
                <label>${index + 1}. ${soal.soal}</label>
                <input type="text" required dir="rtl" ${soal.soal.includes('Terjemahkan') ? 'style="height:50px"' : ''}>
                <button type="button" class="cek-jawaban">Cek Jawaban</button>
            `;
            form.appendChild(divSoal);
        });

        // Fungsi pengacakan
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Handle jawaban
        document.querySelectorAll('.cek-jawaban').forEach((button, index) => {
            button.addEventListener('click', (e) => {
                const currentSoal = e.target.closest('.soal');
                const input = currentSoal.querySelector('input');
                const nilaiInput = input.value.trim();
                
                // Validasi input kosong
                if (!nilaiInput) {
                    alert('Silakan isi jawaban terlebih dahulu!');
                    return;
                }

                // Nonaktifkan input dan tombol
                input.disabled = true;
                e.target.disabled = true;

                // Cek jawaban
                if (nilaiInput === soalAcak[index].jawaban) {
                    input.style.setProperty('border', '2px solid #2ecc71', 'important');
                    input.style.setProperty('background-color', '#e8f5e9', 'important');
                    skor += 10;
                    document.getElementById('skor').textContent = `Skor: ${skor}`;
                    new Audio('../assets/true.mp3').play();
                } else {
                    input.style.setProperty('border', '2px solid #e74c3c', 'important');
                    input.style.setProperty('background-color', '#ffebee', 'important');
                    new Audio('../assets/false.mp3').play();
                }

                // Update status soal aktif
                // Tambahkan delay 300ms sebelum pindah soal
        setTimeout(() => {
            void input.offsetWidth; // Reflow
            setTimeout(() => {
            const semuaSoal = document.querySelectorAll('.soal');
            currentSoal.classList.remove('aktif');
            
            let nextIndex = index + 1;
            while(nextIndex < semuaSoal.length && semuaSoal[nextIndex].querySelector('input').disabled) {
                nextIndex++;
            }

            if(nextIndex < semuaSoal.length) {
                semuaSoal[nextIndex].classList.add('aktif');
                window.scrollTo({
                    top: semuaSoal[nextIndex].offsetTop - 100,
                    behavior: 'smooth'
                });
            } else {
                form.classList.add('selesai');
                semuaSoal.forEach(soal => {
                    soal.classList.remove('aktif');
                    soal.style.opacity = 1;
                    soal.style.pointerEvents = 'none';
                });
                
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
                
                const resultHTML = `
                    <div class="hasil-akhir">
                        <h2>üèÅ Latihan Selesai! üéâ</h2>
                        <h3>Skor Akhir: ${skor}/100</h3>
                        <div class="soal-review">
                            ${Array.from(semuaSoal).map((soal, i) => `
                                <div class="review-item">
                                    <div class="soal-text">${i + 1}. ${soalAcak[i].soal}</div>
                                    <div class="jawaban-user">Jawaban Anda: ${soal.querySelector('input').value}</div>
                                    <div class="jawaban-benar">Jawaban Benar: ${soalAcak[i].jawaban}</div>
                                </div>
                            `).join('')}
                        </div>
                        <button onclick="window.location.reload()">üîÑ Coba Lagi</button>
                    </div>
                `;
                
                form.innerHTML = resultHTML;
            }
        }, 300);
        }, 100) // Delay 300ms untuk melihat perubahan warna, atur disini untuk durasi berubah warna
    });
        });
    </script>
</body>
</html>